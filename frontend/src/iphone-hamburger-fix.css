/* iPhone Hamburger Menu Fix */

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  /* iPhone detection and hamburger button fixes */
  @media (max-width: 991px) {
    .hamburger-btn {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      pointer-events: auto !important;
      position: relative !important;
      z-index: 1000000 !important;
      -webkit-tap-highlight-color: transparent !important;
      -webkit-touch-callout: none !important;
      -webkit-user-select: none !important;
      touch-action: manipulation !important;
      background: #fff !important;
      border: 1px solid #e0e0e0 !important;
      border-radius: 4px !important;
      width: 40px !important;
      height: 40px !important;
      font-size: 18px !important;
      color: #333 !important;
      cursor: pointer !important;
    }
    
    .hamburger-btn.active {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      background: #f8f9fa !important;
      color: #fd7e14 !important;
      border-color: #fd7e14 !important;
    }
    
    /* Ensure hamburger menu is properly positioned */
    .hamburger-menu {
      position: fixed !important;
      top: 0 !important;
      right: 0 !important;
      width: 280px !important;
      height: 100vh !important;
      height: 100dvh !important;
      background: #fff !important;
      z-index: 999999 !important;
      transform: translateX(100%) !important;
      transition: transform 0.3s ease !important;
      -webkit-transform: translateZ(0) !important;
      -webkit-overflow-scrolling: touch !important;
    }
    
    .hamburger-menu.open {
      transform: translateX(0) !important;
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
    
    .hamburger-overlay {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100% !important;
      height: 100vh !important;
      height: 100dvh !important;
      background: transparent !important;
      z-index: 999998 !important;
      pointer-events: auto !important;
      -webkit-overflow-scrolling: touch !important;
    }
    
    .hamburger-overlay.show {
      display: block !important;
    }
  }
}

/* iPhone specific viewport fixes */
@media screen and (max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2) {
  .hamburger-btn {
    position: relative !important;
    z-index: 1000000 !important;
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }
  
  .hamburger-btn.active {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  .hamburger-menu {
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    height: 100vh !important;
    height: 100dvh !important;
  }
}

/* Force hamburger button visibility on all mobile devices */
@media (max-width: 991px) {
  .hamburger-btn,
  .hamburger-btn.active {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }
  
  /* Prevent body scroll when menu is open */
  body.hamburger-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
  }
}

/* Additional iPhone Safari fixes */
@media (max-width: 480px) {
  .hamburger-btn {
    width: 36px !important;
    height: 36px !important;
    font-size: 16px !important;
  }
  
  .hamburger-menu {
    width: 260px !important;
  }
}

/* Landscape mode fixes for iPhone */
@media (max-height: 500px) and (orientation: landscape) and (-webkit-min-device-pixel-ratio: 2) {
  .hamburger-menu {
    height: 100vh !important;
    height: 100dvh !important;
  }
  
  .hamburger-overlay {
    height: 100vh !important;
    height: 100dvh !important;
  }
}