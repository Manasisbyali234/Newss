/* iPhone Hamburger Menu Visibility Fix */

/* Target iPhone devices specifically */
@media only screen 
  and (device-width: 375px) 
  and (device-height: 667px) 
  and (-webkit-device-pixel-ratio: 2),
@media only screen 
  and (device-width: 414px) 
  and (device-height: 736px) 
  and (-webkit-device-pixel-ratio: 3),
@media only screen 
  and (device-width: 375px) 
  and (device-height: 812px) 
  and (-webkit-device-pixel-ratio: 3),
@media only screen 
  and (device-width: 414px) 
  and (device-height: 896px) 
  and (-webkit-device-pixel-ratio: 2),
@media only screen 
  and (device-width: 414px) 
  and (device-height: 896px) 
  and (-webkit-device-pixel-ratio: 3),
@media (max-width: 991px) and (-webkit-min-device-pixel-ratio: 2) {
  
  /* Force hamburger menu content visibility on iPhone */
  .hamburger-menu.open .hamburger-content,
  .hamburger-menu.open .menu-list,
  .hamburger-menu.open .menu-list li,
  .hamburger-menu.open .menu-link,
  .hamburger-menu.open .auth-section {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    position: relative !important;
    z-index: auto !important;
  }

  /* Ensure menu list items are properly displayed */
  .hamburger-menu.open .menu-list li {
    width: 100% !important;
    height: auto !important;
    min-height: 50px !important;
    line-height: normal !important;
  }

  /* Force menu links to be visible and clickable */
  .hamburger-menu.open .menu-link {
    width: 100% !important;
    height: auto !important;
    min-height: 50px !important;
    padding: 16px 20px !important;
    color: #333 !important;
    background: transparent !important;
    border: none !important;
    text-align: left !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    line-height: 1.4 !important;
    box-sizing: border-box !important;
  }

  /* Auth section visibility */
  .hamburger-menu.open .auth-section {
    width: 100% !important;
    padding: 20px !important;
    background: #f8f9fa !important;
    border-top: 1px solid #e0e0e0 !important;
  }

  /* Auth buttons visibility */
  .hamburger-menu.open .auth-btn {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: 100% !important;
    height: auto !important;
    min-height: 44px !important;
    padding: 12px 20px !important;
    margin-bottom: 10px !important;
    border: 1px solid #FF7A00 !important;
    background: transparent !important;
    color: #FF7A00 !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    text-align: center !important;
    cursor: pointer !important;
    border-radius: 8px !important;
    box-sizing: border-box !important;
  }

  /* Override any webkit appearance issues */
  .hamburger-menu.open .menu-link,
  .hamburger-menu.open .auth-btn {
    -webkit-appearance: none !important;
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    user-select: none !important;
  }

  /* Ensure proper scrolling on iPhone */
  .hamburger-menu.open {
    -webkit-overflow-scrolling: touch !important;
    overflow-y: auto !important;
  }

  .hamburger-menu.open .hamburger-content {
    -webkit-overflow-scrolling: touch !important;
    overflow-y: auto !important;
    flex: 1 !important;
  }

  /* Fix for Safari on iPhone */
  .hamburger-menu.open {
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    width: 280px !important;
    height: 100vh !important;
    max-height: 100vh !important;
    background: #fff !important;
    z-index: 2147483647 !important;
    transform: translateX(0) !important;
    transition: none !important;
  }

  /* Prevent body scroll when menu is open */
  body.hamburger-open {
    position: fixed !important;
    width: 100% !important;
    overflow: hidden !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

/* Additional fix for all mobile devices */
@media (max-width: 991px) {
  /* Ensure hamburger button is always visible */
  .hamburger-btn {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    position: relative !important;
    z-index: 2147483647 !important;
    width: 40px !important;
    height: 40px !important;
    background: #fff !important;
    border: 1px solid #e0e0e0 !important;
    border-radius: 4px !important;
    cursor: pointer !important;
    font-size: 18px !important;
    color: #333 !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Force menu content to be visible when open */
  .hamburger-menu.open {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Override any global list styles that might hide content */
  .hamburger-menu ul,
  .hamburger-menu ol {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
    padding-left: 0 !important;
    margin-bottom: 0 !important;
  }

  /* Ensure all child elements are visible */
  .hamburger-menu.open * {
    visibility: visible !important;
    opacity: 1 !important;
  }
}